# 关于 luxe-registrar 合约的相关说明

您好，我是刘笨笨。本文件夹内是对 LUXE 域名注册器合约进行升级后版本。

## 升级原则

1. 保持 LUXE 域名系统原有的基本框架和授权机制，完成 LUXE 域名在 ENS 系统中对多链的支持。
2. 部署该合约之后能够完成 LUXE 顶级域名向 ENS 新注册表的迁移。

## 升级内容

1. 升级了注册器，集成了符合 ENS 最新解析器接口的解析器。并且在后面介绍的 alterable-resolver 版本中，可以实现默认解析的修改。
2. 升级了默认解析器，现在的解析器已经实现了 ENS 官方最新的解析器接口，支持多链地址、内容哈希、文本记录等功能。
3. 处理了一些细节问题，比如编译版本和多调函数。

## 两个版本的区别

考虑到 LUXE 是通过自定义的方式集成到 ENS 系统中的，不知道 LUXE 域名未来对于解析器的功能有没有新的需求，因此我编写了两个版本的 LUXE 注册器合约，请你们根据情况选择使用。两个版本分别位于 constant-resolver 和 alterable-resolver 分支中。

### constant-resolver 版本

本版本采用了固定默认解析器的方式（就像从前一样）。在部署注册器合约时新建一套解析器，并将其作为用户注册 LUXE 域名时的默认解析器。此解析器将一直作为用户注册 LUXE 域名时的默认解析器，除非重新部署整个 LUXE 注册器合约。

### alterable-resolver 版本

本版本采用了可变的默认解析器。在部署注册器合约时也会新建一套解析器，并将其作为用户注册 LUXE 域名的默认解析器，与 constant-resolver 版本不同的是，这个默认解析器可以由注册器的 "owner" 修改，因此如果以后面临需要对默认解析器的功能进行更改时，可以不必部署整个 LUXE 注册器合约，只需要单独部署解析器合约，并将注册器使用的默认解析器修改为新的地址。

## 其他说明

1. 要将 LUXE 顶级域名迁移至新的 ENS 注册表，必须要在部署本合约时采用 ENS 注册表的最新地址，即 `0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e` 。
2. 我在编译时采用的编译器版本是： 0.5.16+commit.9c3226ce
